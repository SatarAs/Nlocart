{% extends 'layout.html.twig' %}

{% block page_title %}Edition du compte{% endblock %}

{% block content %}

    <main class="no-bg">
        {%  if (app.user is not null)  %}
        <section id="dashboard">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 col-md-4 sidebar" style="position: static">
                        <div class=" content-box">
                            <ul class="nav animated fadeIn">
                                <!-- Main menu -->
{#                                        <li><a id="monCompteAdmin" href="{{ url('admin_index') }}"><i class="glyphicon glyphicon-home"></i> Tableau de Bord</a></li>#}
{#                                        <li><a id="demandeAttenteAdminMenu" href="{{ path('admin_reservation') }}"><i class="glyphicon glyphicon-record vert"></i> Demande(s) en attente(s)</a></li>#}


                                    {# Si utilisateur acheteur, alors "demandes en attente" affiché sinon si "demandes traitées" on masque "demandes en attente" #}
                                        <li><a id="demandeAttenteAdminMenu" href="{{ path('admin') }}"><i class="glyphicon glyphicon-record vert"></i> Demande(s) en attente(s)</a></li>
{#                                        <li><a id="demandeValideesAdminMenu" href="{{ path('admin_archives') }}"><i class="glyphicon glyphicon-record orange"></i> Demande(s) traitée(s)</a></li>#}

{#                                        <li><a id="locationAdminMenu" href="{{ path('admin_locations') }}"><i class="glyphicon glyphicon-record bleu"></i> Oeuvres actuellement en location</a></li>#}
{#                                        <li><a href="{{ path('admin_dispo') }}"><i class="glyphicon glyphicon-menu-hamburger vert"></i> Lister les &oelig;uvres disponibles</a></li>#}
{#                                        <li><a href="{{ path('admin_indispo') }}"><i class="glyphicon glyphicon-menu-hamburger orange"></i> Lister les &oelig;uvres indisponibles</a></li>#}
{#                                        <li><a href="{{ path('admin_vendus') }}"><i class="glyphicon glyphicon-menu-hamburger bleu"></i> Lister les &oelig;uvres vendues</a></li>#}
{#                                        <li><a href="{{ path('admin_add') }}"><i class="glyphicon glyphicon-plus vert"></i> Ajouter une &oelig;uvre</a></li>#}
{#                                        <li><a href="{{ path('admin_clients') }}"><i class="glyphicon glyphicon-user bleu"></i> Lister les clients</a></li>#}
{#                                        <li><a href="/admin/admin"><i class="fas fa-tools"></i> Gérer les entités</a></li>#}
                                <li><a href="{{ path('app_edit_account') }}"><i class="glyphicon glyphicon-edit"></i>Modifier les informations de mon compte</a></li>
{#                                        <li><a href="{{ path('security_reset_password') }}"><i class="glyphicon glyphicon-random bleu"></i> Changer de mot de passe </a></li>#}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        {% else %}
        <section id="dashboard">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 col-md-4 sidebar">
                        <div class=" content-box">
                            <ul class="nav animated fadeIn">
                                <!-- Main menu -->
                                <li><a id="monCompteAdmin" href="{{ url('app_account') }}"><i class="glyphicon glyphicon-home"></i> Tableau de Bord</a></li>
{#                                        <li><a id="demandeAttenteAdminMenu" href="{{ url('user_reservation') }}"><i class="glyphicon glyphicon-record vert"></i> Demande(s) en attente(s)</a></li>#}
{#                                        <li><a href="{{ path('user_validate', {username:app.user.nom}) }}">#}
{#                                                <i class="glyphicon glyphicon-menu-hamburger vert">#}
{#                                                </i> Lister les demandes validés#}
{#                                            </a>#}
{#                                        </li>#}
{#                                        <li><a href="{{ path('user_refused', {username:app.user.nom}) }}">#}
{#                                                <i class="glyphicon glyphicon-menu-hamburger orange">#}
{#                                                </i> Lister les demandes refusés#}
{#                                            </a>#}
{#                                        </li>#}
{#                                        <li><a href="{{ path('user_location', {username:app.user.nom}) }}">#}
{#                                                <i class="glyphicon glyphicon-menu-hamburger bleu">#}
{#                                                </i> Mes oeuvres actuellement en location#}
{#                                            </a>#}
{#                                        </li>#}
                                <li><a href="{{ path('app_edit_account') }}"><i class="glyphicon glyphicon-edit"></i> Modifier mon compte </a></li>
{#                                        <li><a href="{{ path('security_reset_password') }}"><i class="glyphicon glyphicon-user bleu"></i> Changer de mot de passe </a></li>#}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        {% endif %}

        <div class="row">
            <div class="container container_catalogue">
                <div class="col-xs-offset-1 col-xs-10 col-md-6">
                    <div class="content-box-header modify_account">
                        <h2 class="text-center panel-title titre-moncompte">Modifier mon compte :</h2>
                    </div>
                    <div class="content-box-large box-with-header">
                        {{ form_start(form) }}
                        {% dump app.user.customerCategory %}
                        {% if app.user.customerCategory.id is same as (2) %}
                        <div id="edit_pro">
                            {{ form_row(form.customerCompany) }}
                            {{ form_row(form.customerSiretCompany) }}
                        </div>
                        {% else %}
                            {{ form_widget(form.customerCompany, { 'attr': {'class': 'd-none'} }) }}
                            {{ form_widget(form.customerSiretCompany, { 'attr': {'class': 'd-none'} }) }}
                        {% endif %}
                        <input type="text" class="form-control" placeholder="{{ cat.customerCategoryLabel }}" readonly />
                        {{ form_row(form.customerNickname) }}
                        {{ form_row(form.customerEmail) }}
                        {{ form_row(form.customerFirstName) }}
                        {{ form_row(form.customerLastName) }}
                        {{ form_row(form.customerPhoneHome) }}
                        {{ form_row(form.customerCellPhone) }}
                        <div class="row">
                            <div class="col-md-12">
                                {{ form_row(form.submit) }}
                            </div>
                        </div>
                        {{ form_end(form) }}
                    </div>
                </div>
            </div>
        </div>
    </main>

{% endblock %}
